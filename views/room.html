<div class="container">
	<h1> {{ roomName }} </h1>
		<!--<span ng-show="showBanKick">
		<input type="text" placeholder="New topic" ng-model="newTopic" />
			<button type="submit" class=" btn btn-sm" ng-click="changeTopic()">
				Change
			</button>
		</span>-->
	<h3> user logged in: {{userInRoom}} </h3>
	<div class="well">
		<div class="row">

			<section id="chatBoard" class="col-md-9 col-xs-9">
				<ul style="list-style: none">
					<li ng-repeat="message in messages">
						<article>
							<strong>
								<time>[{{ message.timestamp | date:"HH:mm:ss" }}]:</time>
							</strong>
							<strong>
								{{ message.nick }}
							</strong>
								{{ message.message }}
						</arcticle>
					</li>
				</ul>
			</section>

			<aside class="col-md-3 col-xs-3">
				<p>Users</p>
				<ul>
					<li ng-repeat="user in users" ng-hide="user == userInRoom">
						<button class="submit btn-link" data-toggle="modal" data-target="#privateMsgModal" ng-click="setPrivateMsgUser(user)" >
						{{user }}
						</button>

						<!--Admin dropdown menu-->
						<span class="btn-group pull-right">
							<button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" ng-show="showBanKick">
							Admin <span class="caret"></span>
							</button>
							<ul class="dropdown-menu"  >
								<li role="presentation" ng-click="kickUser(user)">Kick {{user}}</li>
								<li role="presentation" ng-click="banUser(user)">Ban {{user}}</li>
							</ul>
						</span>
						<!-- -->
					</li>
				</ul>
				
				<!-- Modal -->
				<div class="modal fade" id="privateMsgModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <div class="modal-dialog">
				    <div class="modal-content">
				      <div class="modal-header">
				        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				        <h4 class="modal-title" id="myModalLabel">Enter private message</h4>
					      </div>
						      <div class="modal-body">
						    	<input type="text"
						    		name="privateMessage"
						    		ng-model="privateMessage" 
						    		autofocus="autofocus" 
						    		class="form-control"
						    		placeholder="Type message here" />

						      </div>
					      <div class="modal-footer">
				        <button type="button" class="btn btn-sm btn-primary" data-dismiss="modal">Close</button>
				        <button type="submit" class="btn btn-sm btn-primary" ng-click="sendPrivateMessage()">Send</button>
				      </div>
				    </div>
				  </div>
				</div>

			</aside>
	    </div>
	</div>

                            
    <footer>
		<input ng-model="currentMessage" class="form-control" ng-keypress="keyPress($event)" />
		<br/>
		<button class="btn btn-sm btn-primary"
		        type="submit"
		        ng-click="send()">Send!
		</button>

	    <button class="btn btn-sm btn-primary"
	            type="submit"
	        	name="leaveRoom"
	        	ng-click="leaveRoom()">Leave
	    </button>
	    <br>
	    <br>
		<div class="alert alert-info" id="chatMessage"> 
  			<strong>Info from server!</strong> <span ng-bind="poppUpMessage"></span>
		</div>
	    <br>
	    <br>
		<div class="alert alert-success alert-dismissable" ng-repeat="alert in alerts">
  			<button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="closeAlert($index)">&times;</button>
  			<strong>Private message!</strong> [{{alert.usr}}]: {{alert.msg}}
		</div>
	</footer>


</div>